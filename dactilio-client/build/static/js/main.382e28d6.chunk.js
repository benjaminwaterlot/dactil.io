(this.webpackJsonpdactilio=this.webpackJsonpdactilio||[]).push([[0],{125:function(e,t,r){"use strict";r.r(t);var n,c=r(5),a=r(0),o=r.n(a),i=r(48),s=r.n(i),d=r(4),l=r(88),j=r(142),u=r(140),b=r(148),h=r(147),v=r(22),O=r(149),y=r(11);!function(e){e.NEUTRAL="NEUTRAL",e.VALID="VALID",e.ERROR="ERROR"}(n||(n={}));var p=Object(O.a)({id:"game-machine",context:{sentence:"",activeChar:0,saved:{key:"",type:n.NEUTRAL},errors:[]},initial:"playing",states:{playing:{meta:"Game playing !",always:[{target:"over",cond:"sentenceIsDone"}],on:{KEY_PRESS:[{cond:"isCorrectInput",actions:["saveCorrectInput","incrementChar"]},{actions:"saveIncorrectInput"}]}},over:{type:"final",meta:"Game over !"}}},{guards:{isCorrectInput:function(e,t){var r,n=(null!==(r=e.sentence[e.activeChar])&&void 0!==r?r:"Enter")===t.key;return n},sentenceIsDone:function(e){var t=e.sentence;return e.activeChar===t.length}},actions:{saveCorrectInput:Object(y.b)({saved:function(e,t){return{key:t.key,type:n.VALID}}}),saveIncorrectInput:Object(y.b)({saved:function(e,t){return{key:t.key,type:n.ERROR}},errors:function(e,t){var r=e.errors;return[].concat(Object(v.a)(r),[t.key])}}),incrementChar:Object(y.b)({activeChar:function(e){return e.activeChar+1}})}}),g=r(134),x={primary:{0:{light:"gray.900",dark:"white"},100:{light:"gray.900",dark:"gray.100"},600:{light:"gray.400",dark:"gray.600"},700:{light:"gray.300",dark:"gray.700"},800:{light:"gray.200",dark:"gray.800"},900:{light:"gray.100",dark:"gray.900"},1e3:{light:"white",dark:"gray.900"}}},f=function(e){var t,r,n,c=e.split("."),a=Object(d.a)(c,2),o=a[0],i=a[1],s=Object(l.b)().colorMode;return null!==(t=null===(r=x[o])||void 0===r||null===(n=r[i])||void 0===n?void 0:n[s])&&void 0!==t?t:"red.500"},m=function(e){return Object(a.useEffect)((function(){var t=function(t){var r;(1===(r=t.key).length||"Enter"===r)&&e({type:"KEY_PRESS",key:t.key})};return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}))},k=r(42),C=r(145),w=r(150),R=r(138),E=r(136),I=r(137),L=function(e){var t=e.saved,r=(Object(k.a)(e,["saved"]),{bg:f("primary.900"),border:Object(l.c)("white","primary.800")});return Object(c.jsx)(g.b,{bg:t.type===n.ERROR?"red.600":r.bg,color:t.type===n.ERROR?"white":void 0,borderColor:r.border,borderWidth:10,transition:"background-color .15s ease-out",size:110,fontSize:"5xl",fontWeight:"bolder",children:Object(c.jsx)(C.a,{in:Boolean(t),children:t.key},t.key)})},S=function(e){var t=e.count;return Object(c.jsxs)(w.a,{children:[Object(c.jsxs)(w.d,{children:[Object(c.jsx)(E.a,{mr:2}),"Errors"]}),Object(c.jsx)(w.e,{children:t}),Object(c.jsxs)(w.c,{children:[Object(c.jsx)(w.b,{type:"decrease"}),"25% more!"]})]})},A=function(e){var t=e.wpm;return Object(c.jsxs)(w.a,{children:[Object(c.jsxs)(w.d,{children:[Object(c.jsx)(I.a,{mr:2}),"WPM"]}),Object(c.jsx)(w.e,{children:t}),Object(c.jsxs)(w.c,{children:[Object(c.jsx)(w.b,{type:"increase"}),"12% increase"]})]})},M=function(e){var t=e.context;return Object(c.jsxs)(g.a,{position:"fixed",bottom:"0",left:"0",w:"100%",children:[Object(c.jsxs)(R.a,{spacing:10,backgroundColor:f("primary.900"),p:10,children:[Object(c.jsx)(R.b,{children:Object(c.jsx)(S,{count:t.errors.length})}),Object(c.jsx)(R.b,{children:Object(c.jsx)(A,{wpm:t.errors.length})})]}),Object(c.jsx)(g.a,{position:"absolute",top:"-".concat(77,"px"),left:"calc(50% - ".concat(55,"px)"),children:Object(c.jsx)(C.a,{in:Boolean(t.saved.key),children:Object(c.jsx)(L,{saved:t.saved})})})]})},D=r(13),T=r(139),F=function(e){var t=e.char;return Object(c.jsx)(g.a,{as:"span",children:t})},P=function(e){var t=e.char;return Object(c.jsx)(g.a,{as:"span",color:f("primary.700"),children:t})},z=function(e){var t=e.char;return Object(c.jsx)(g.a,{as:"span",bg:f("primary.100"),color:f("primary.1000"),children:t})},B=["\u2423","\u21b5"],N=[{predicate:function(e){return e.charIndex===e.activeChar},component:z},{predicate:function(e){var t=e.char;return e.charIndex<e.activeChar||B.includes(t)},component:P},{predicate:function(){return!0},component:F}],U=function(e,t){return e.replaceAll(" ","\u2423").split("").map((function(e,r){var n,a=null===(n=N.find((function(n){return(0,n.predicate)({char:e,charIndex:r,activeChar:t})})))||void 0===n?void 0:n.component;if(!a)throw new Error("A char component should always be valid");return Object(c.jsx)(a,{char:e},r)})).reduce((function(e,t,r){var n="\u2423"===t.props.char;return[].concat(Object(v.a)(e),[t,n&&Object(c.jsx)("wbr",{},"\u2423".concat(r))])}),[])},V=function(e){var t=e.sentence,r=e.activeChar,n=Object(k.a)(e,["sentence","activeChar"]);return Object(c.jsx)(T.a,Object(D.a)(Object(D.a)({},n),{},{children:U(t,r)}))},W=function(e){var t,r=e.current,n=e.send;return m(n),Object(c.jsxs)(g.a,{mt:"10vh",p:10,bg:f("primary.900"),borderRadius:5,w:["100%","80%","70%"],fontFamily:"mono",fontSize:"2xl",children:[Object(c.jsx)(u.a,{color:"gray.500",children:(t=r,t.meta["game-machine.".concat(t.value)])}),Object(c.jsx)(V,{my:5,sentence:r.context.sentence,activeChar:r.context.activeChar}),Object(c.jsx)(M,{context:r.context})]})},G=r(62),J=r.n(G),K=["If you like what you do, and you're lucky enough to be good at it, do it for that reason."];var Y=function(){console.log({sample:J()(K)});var e=Object(h.a)(p,{context:{sentence:J()(K)}}),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(l.b)().toggleColorMode;return Object(c.jsxs)(j.a,{as:"header",py:12,px:6,direction:"column",align:"center",children:[Object(c.jsx)(u.a,{size:"2xl",as:"h1",children:"Dactil.io"}),Object(c.jsx)(W,{current:r,send:n}),Object(c.jsx)(b.a,{my:5,onClick:a,children:"Toggle mode"})]})},_=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,151)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),n(e),c(e),a(e),o(e)}))},q=r(146),H=r(144),Q=r(84),X=r(143),Z={sentence:{active:{color:"gray.200"},inactive:{color:"gray.600"}}},$=Object(X.a)({config:{initialColorMode:"dark",useSystemColorMode:!1},fonts:{heading:"Merriweather",mono:"Operator Mono"},layerStyles:Z});console.log({theme:$}),s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(Q.a,{children:Object(c.jsxs)(q.a,{theme:$,children:[Object(c.jsx)(H.a,{}),Object(c.jsx)(Y,{})]})})}),document.getElementById("root")),_()}},[[125,1,2]]]);
//# sourceMappingURL=main.382e28d6.chunk.js.map